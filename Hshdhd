--[[
  Roblox Loading Screen Script (English Version)
  - Covers the entire screen (including the chat bar and settings)
  - Centered white text: "waiting for anti ban"
  - White horizontal bar slowly animates from left to right beneath the text
  - Solid black background
  - Easy to use: just place this LocalScript in StarterGui

  To remove the loading screen later, call: screenGui:Destroy()
--]]

local Players = game:GetService("Players")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.IgnoreGuiInset = true
screenGui.ResetOnSpawn = false
screenGui.Name = "LoadingScreen"
screenGui.DisplayOrder = 10000 -- Always on top
screenGui.Parent = playerGui

-- Black background
local background = Instance.new("Frame")
background.BackgroundColor3 = Color3.new(0,0,0)
background.Size = UDim2.new(1,0,1,0)
background.Position = UDim2.new(0,0,0,0)
background.BorderSizePixel = 0
background.Parent = screenGui

-- Centered white text
local textLabel = Instance.new("TextLabel")
textLabel.Size = UDim2.new(1, 0, 0, 50)
textLabel.Position = UDim2.new(0, 0, 0.45, 0)
textLabel.BackgroundTransparency = 1
textLabel.Text = "Trying to find an old server"
textLabel.TextColor3 = Color3.new(1,1,1)
textLabel.Font = Enum.Font.GothamBold
textLabel.TextSize = 32
textLabel.TextStrokeTransparency = 0.5
textLabel.TextWrapped = true
textLabel.Parent = screenGui

-- White progress bar background (faded)
local barBack = Instance.new("Frame")
barBack.Size = UDim2.new(0.3, 0, 0, 8)
barBack.Position = UDim2.new(0.35, 0, 0.53, 0)
barBack.BackgroundTransparency = 0.5
barBack.BackgroundColor3 = Color3.new(1,1,1)
barBack.BorderSizePixel = 0
barBack.Parent = screenGui

-- Animated white bar
local bar = Instance.new("Frame")
bar.Size = UDim2.new(0, 0, 1, 0)
bar.Position = UDim2.new(0, 0, 0, 0)
bar.BackgroundColor3 = Color3.new(1,1,1)
bar.BorderSizePixel = 0
bar.Parent = barBack

-- Hide chat bar if it appears
local function hideChat()
    local chat = playerGui:FindFirstChild("Chat")
    if chat then
        chat.Enabled = false
    end
end

hideChat()
playerGui.ChildAdded:Connect(function(child)
    if child.Name == "Chat" then
        child.Enabled = false
    end
end)

-- Animate the white bar
local speed = 2 -- seconds to go from left to right
local TweenService = game:GetService("TweenService")
local function animateBar()
    while screenGui.Parent do
        bar.Size = UDim2.new(0, 0, 1, 0)
        bar.Position = UDim2.new(0, 0, 0, 0)
        bar.BackgroundTransparency = 0
        -- Tween from left to right
        local tweenInfo = TweenInfo.new(speed, Enum.EasingStyle.Linear)
        local tween = TweenService:Create(
            bar,
            tweenInfo,
            {Size = UDim2.new(1,0,1,0)}
        )
        tween:Play()
        tween.Completed:Wait()
        -- Quick fade out and repeat
        for i = 0, 1, 0.1 do
            bar.BackgroundTransparency = i
            wait(0.01)
        end
        wait(0.2)
    end
end

spawn(animateBar)

-- To remove the loading screen later, just use:
-- game.Players.LocalPlayer.PlayerGui.LoadingScreen:Destroy()
